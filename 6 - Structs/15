/* 15. Fac¸a um programa que leia um vetor com dados de 5 livros: tıtulo (maximo 30 letras),
autor (maximo 15 letras) e ano. Procure um livro por tıtulo, perguntando ao usuario qual
t´ıtulo deseja buscar. Mostre os dados de todos os livros encontrados. */
#include <stdio.h>
#include <string.h>

#define QTD 3

typedef struct {
    char titulo[30];
    char autor[15];
    int ano;
}Livro;


int main (){
    
    Livro livros[QTD];
    char pesquisa[30];
    
    for (int i=0; i<QTD; i++){
        printf ("%d) Informe o titulo : ", i+1);
        fgets (livros[i].titulo, sizeof(livros[i].titulo), stdin);
        livros[i].titulo[strcspn(livros[i].titulo, "\n")] = '\0';
        
        printf ("Informe o autor : ");
        fgets (livros[i].autor, sizeof(livros[i].autor), stdin);
        livros[i].autor[strcspn(livros[i].autor, "\n")] = '\0';
        
        printf ("Informe o ano do livro : ");
        scanf ("%d", &livros[i].ano);
        getchar();
    }
    
    printf ("Qual livro deseja procurar : ");
    fgets (pesquisa, sizeof(pesquisa), stdin);
    pesquisa[strcspn(pesquisa, "\n")] = '\0';
    
    for (int i=0; i<QTD; i++){
        if (strcmp(pesquisa, livros[i].titulo) == 0){
            printf ("\nTítulo : %s \n", livros[i].titulo);
            printf ("Autor : %s \n", livros[i].autor);
            printf ("Ano : %d \n", livros[i].ano);
        }
    }
    
    return 0;
}
